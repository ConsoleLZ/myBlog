---
title: ADC两种测量电压方式
date: 2025-05-07
mathjax: true
categories:
   - 单片机
---

## 逐次逼近型ADC测量电压

通过不断缩小输入电压与参考电压之间的差异，逐步逼近输入电压的真实值，并将其转换成对应的数字形式



#### 1. 外部供电电压作为参考

公式：(Vref: 外部参考电压， Vin：输入电压)
$$
ADC读数 = \frac{Vin}{Vref} . (2^n - 1) => Vin = \frac{ADC读数}{2^n - 1} . Vref
$$
这个方法适合用于**外部参考电压已知且稳定**的情况，比如使用LDO供电给MCU和ADC，可以测量外部模拟信号电压



#### 2. 内部基准电压作为参考

这种情况下，ADC采集的是一个与供电电压相关的比例值。内部基准电压是一个已知的精确电压，而ADC的参考电压是未知的供电电压（VDD）。此时通过反推来计算实际供电电压。

公式：（Vrefinternal: 内部基准电压，Vdd：外部供电电压）
$$
ADC读数 = \frac{Vrefinternal}{Vdd} . (2^n - 1)
$$
这可以用来测量当前系统的供电电压（比如电池电压），当没有外部参考时非常有用



相当于去测量内部已知的内部基准电压，此时Vin = Vrefinternal, 而把供电的电压Vdd作为参考，反推代入公式即可得到

