---
title: PID算法理解
date: 2025-11-16
mathjax: true
categories:
   - 单片机
---

假如我有一个温室系统，现在需要保持35℃

公式说明：
1. u: 输出（值越大，升温越快，反之越小）
2. e: 误差
3. Kp: P的系数
4. Ki：积分i的系数
5. Kd: 微分d的系数

## 先使用p看看
$$
u = K_p . e
$$

问题：会有静态误差和超调振荡，也就是外部环境会影响整个系统，比如如果外部温度比较低，在25℃的时候发现系统趋于稳定了那么就永远无法达到目标值

## 加入积分i
$$
u = K_p . e + K_i . \sum_{j=0} e_j
$$

通过对误差的不断积分（求和），只要有误差输出u就会越来越大，从而达到目标值，消除静态误差，但是还是会存在超调振荡的问题

## 加入微分d
$$
u_n = K_p . e_n + K_i . \sum_{j=0} e_j + K_d . (e_n - e_{n-1})
$$

通过对误差的微分，可以清楚的知道误差的变化量，从而提前做出控制，减小超调，抵消振荡