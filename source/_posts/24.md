---
title: ç•™è¨€æ¿æ¨¡å—ä¸æ–‡ç« è¯„è®ºå¼€å¯
date: 2023-5-24
tags:
   - butterfly
categories:
   - é­”æ”¹
---

## æ³¨å†ŒLeanCloudè´¦å·

æ³¨å†ŒLeanCloudè´¦å·æ˜¯ä¸ºäº†ç»™è¯„è®ºçš„æ•°æ®æä¾›äº‘å­˜å‚¨

**é¦–å…ˆæ¥åˆ°LeanCloudçš„é¦–é¡µ:**
[https://www.leancloud.cn/](https://www.leancloud.cn/)ï¼Œ
ç‚¹å‡»å³ä¸Šè§’çš„æ§åˆ¶å°ï¼ŒæŒ‰ç…§æŒ‡å¼•è¿›è¡Œæ³¨å†Œå³å¯

## åˆ›å»ºåº”ç”¨

æ³¨å†Œå®Œæˆå,è¿›è¡Œç™»å½•ä¼šè¿›å…¥è¿™ä¸ªé¡µé¢ï¼š

![](https://pic.imgdb.cn/item/664dd680d9c307b7e9fb67dd.png)**ç‚¹å‡»åˆ›å»ºåº”ç”¨**ï¼Œéšåå¡«å†™ä¸€äº›åº”ç”¨çš„åŸºæœ¬ä¿¡æ¯åä½ çš„åº”ç”¨å°±åˆ›å»ºæˆåŠŸå•¦ğŸ‰ï¸

## åˆ›å»ºç•™è¨€æ¿é¡µé¢

```sh
hexo new page message
```

ä¿®æ”¹å…¶ç›®å½•ä¸‹çš„index.mdä¸ºindex.ejs,*å¢æ·»å¦‚ä¸‹å†…å®¹ï¼š*

```html
---
title: ç•™è¨€æ¿
---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
</head>

<body>
    <div id="vcomments"></div>
</body>
<script>
     new Valine({
            el: '#vcomments',
            appId: 'ä½ çš„AppID',
            appKey: 'ä½ çš„AppKey',
            placeholder: 'æ¬¢è¿å¤§å®¶æ¥åˆ°lazychild,å¦‚æœæœ‰ä»€ä¹ˆæƒ³è¯´çš„è¯ï¼Œè¯·ç•™è¨€ç»™ä½œè€…å“¦ï¼Œä½œè€…ä¼šå°½é‡å¿«é€Ÿå›å¤å¤§å®¶çš„å“¦ğŸ˜œğŸ˜œï¼Œæ³¨æ„é‚®ç®±ä¸€å®šä¸èƒ½å†™é”™å“¦ï¼Œä¸ç„¶ä½ å°±æ”¶ä¸åˆ°ä½œè€…çš„å›å¤äº†',
            avatar: 'wavatar',
            pageSize: 4,
            requiredFields: ['mail']
        })
</script>
</html>
```

---

**AppIDä¸AppKeyçš„è®¾ç½®**ï¼š
![](https://pic.imgdb.cn/item/664dd680d9c307b7e9fb67bd.png)
åˆ›å»ºå¥½LeanCloudåº”ç”¨åï¼Œæ‰¾åˆ°å·¦è¾¹è®¾ç½®çš„åº”ç”¨å‡­è¯å³å¯æ‰¾åˆ°è‡ªå·±çš„AppIDä¸AppKey

---

è¿™é‡Œçš„è¯„è®ºç³»ç»Ÿä½¿ç”¨çš„æ˜¯åŸºäºåŸºäºLeanCloudçš„å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„æ— åç«¯è¯„è®ºç³»ç»Ÿâ€”â€”â€”â€”Valineï¼Œæ›´å¤šçš„Valineçš„é…ç½®è¯·è‡ªä¸»å­¦ä¹ ï¼Œè¯·å‚è€ƒ[https://valine.js.org/configuration.html](https://valine.js.org/configuration.html)ğŸ‘€ï¸

## å¢åŠ å¯¼èˆªæ èœå•

æœ€åè‡ªå·±åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlä¸­é…ç½®å³å¯
**è¿™æ˜¯æˆ‘çš„ï¼š**

```yaml
menu:
  é¦–é¡µ: / || icon-shouye2
  æ–‡ç«  || icon-xiewenzhang:
     å½’æ¡£: /archives/ || icon-guidang
     æ ‡ç­¾: /tags/ || icon-biaoqian
     åˆ†ç±»: /categories/ || icon-fenlei
     ç»Ÿè®¡: /statistics/ || icon-tongjitu
  å‹é“¾: /link/ || icon-LINKS
  æˆ‘çš„: /about/ || icon-gerenzhongxin_wodediqu
  ç•™è¨€æ¿: /message/ || icon-liuyanban
```

iconå›¾æ ‡æ˜¯æˆ‘è‡ªå·±å¼•å…¥çš„ï¼Œä½ ä¸èƒ½ç…§æ¬å“¦ğŸ‘€ï¸ ï¼Œå…·ä½“çš„å¼•å…¥æ–¹æ³•è¯·å‚è€ƒ[èœå•æ å¤šè‰²å›¾æ ‡ | Lazychild&#39;s Blog (gitee.io)](https://xiao-zhe-is-not-lazy.gitee.io/hexo/2023/04/27/15/)
åˆ°è¿™é‡Œä½ å°±å·²ç»å®Œæˆäº†ç•™è¨€æ¿æ¨¡å—äº†
ğŸ‰ï¸

## æ–‡ç« è¯„è®ºåŠŸèƒ½çš„å¼€å¯

åœ¨æ­¤ä¹‹å‰å°ä¼™ä¼´ä»¬è‚¯å®šå·²ç»åˆ›å»ºäº†ä¸€ä¸ªLeanCloudåº”ç”¨äº†ï¼Œ**è¿™é‡Œè¯·å°ä¼™ä¼´ä»¬å†åˆ›å»ºä¸€ä¸ªLeanCloudåº”ç”¨ï¼Œç”¨æ¥å­˜æ”¾æ–‡ç« è¯„è®º**

---

åˆ›å»ºæˆåŠŸåï¼Œæ‰¾åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶_config.yml,ä¿®æ”¹ï¼š

```yaml
comments:
  # Up to two comments system, the first will be shown as default
  # Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42/Artalk
  use: Valine
  text: true # Display the comment name next to the button
  # lazyload: The comment system will be load when comment element enters the browser's viewport.
  # If you set it to true, the comment count will be invalid
  lazyload: true
  count: true # Display comment count in post's top_img
  card_post_count: true # Display comment count in Home Page
```

---

```yaml
valine:
  appId: ä½ çš„AppID
  appKey: ä½ çš„AppKey
  avatar: wavatar # gravatar style https://valine.js.org/#/avatar
  serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)
  bg: # valine background
  visitor: false
  option:
```

## bugè§£å†³
å‘ç°äº†ä¸€ä¸ªbugï¼Œå‘ç°å¾ˆå¤šä¸éœ€è¦ç”¨åˆ°è¯„è®ºçš„åœ°æ–¹ä¹Ÿæœ‰äº†è¯„è®ºåŠŸèƒ½ï¼Œè§£å†³åŠæ³•ï¼š
*åœ¨è‡ªå®šä¹‰çš„jsæ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹å†…å®¹ï¼š*

```js
// åˆ é™¤å¤šä½™çš„è¯„è®ºæ¿å—
// è§£å†³ç•™è¨€æ¿æ¨¡å—2æ¬¡æ¸²æŸ“é—®é¢˜å¯¼è‡´è¯„è®ºåŒºå‡ºç°äº†2æ¬¡
if(path[2] == 'message' || path[2] == 'about' || path[2] == 'tags' || path[2] == 'categories' || path[2] == 'statistics' || path[2] == 'link'){
	var postComment = document.querySelector('#post-comment') && postComment.remove()
}
```
