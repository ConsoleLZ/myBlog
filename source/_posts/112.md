---
title: MCP从入门到实战
date: 2025-08-24
tags:
   - node
categories:
   - 前端进阶
---



## MCP基本通信格式

#### 1. 初始化
request

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "initialize",
  "params": {
    "protocolVersion": "2024-11-05",
    "capabilities": {
      "roots": {
        "listChanged": true
      },
      "sampling": {}
    },
    "clientInfo": {
      "name": "ExampleClient",
      "version": "1.0.0"
    }
  }
}
```
response

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "protocolVersion": "2024-11-05",
    "capabilities": {
      "logging": {},
      "prompts": {
        "listChanged": true
      },
      "resources": {
        "subscribe": true,
        "listChanged": true
      },
      "tools": {
        "listChanged": true
      }
    },
    "serverInfo": {
      "name": "ExampleServer",
      "version": "1.0.0"
    }
  }
}
```

#### 2. 工具发现

request

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "tools/list",
  "params": {}
}
```

response

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "tools": [
      {
        "name": "read_file",
        "description": "获取指定路径文件的内容",
        "inputSchema": {
          "type": "object",
          "properties": {
            "filePath": {
              "type": "string",
              "description": "文件路径"
            }
          },
          "required": ["filePath"]
        }
      }
    ]
  }
}
```

#### 3. 工具调用

request

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "tools/invoke",
  "params": {
    "tool": "read_file",
    "arguments": {
      "filePath": "/path/test.txt"
    }
  }
}
```

response

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "content": [
      {
        "type": "text",
        "text": "文件内容"
      }
    ]
  }
}
```

